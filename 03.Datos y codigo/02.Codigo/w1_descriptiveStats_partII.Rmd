---
title: "w1_descriptiveStats_partI"
output: pdf_document
date: "2024-07-16"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
#install.packages('AER')
#install.packages('viridis')
library(viridis)
library(AER)
data() # Vamos a utilizar la función data para ver el listado de datos pre cargados en R
data(CigarettesB) # Seleccionamos la tabla 'CigarettesB' y la cargamos en el ambiente

help("CigarettesB") # mediante la función "help" podran ver la documentación de la tabla de datos. Help tambien puede aplicarse a otros elementos en R, desde paquetes, hasta funciones.

```
# Medidas de posición central
Las medidas de  localización suministran información numérica acerca del patrón o tendencia que exhiben la muestra aleatoria

## Media

```{r , echo=TRUE}
# Identifica la suma de todos los valores en la variable packs
sum_cp <- sum(CigarettesB$packs)

# Identifica el númeto total de observaciones
n_cp <- nrow(CigarettesB) 

# Calcula el promedio
mean_cp <- sum_cp/n_cp 

# Podemos hacer el mismo calculo con la función mean
mean_cp <- mean(CigarettesB$packs)
```

## Moda

```{r , echo=TRUE}
# La función unique permite eliminar los duplicados de una variable, en este caso esto nos permite identificar los valores que se repiten (y no).
valores <- unique(CigarettesB$packs) 

# Calculamos una frecuencia simple para identificar cual es el valor de packs que se repite mas o, en otras palabras, que tiene mayor frecuencia.

table(valores)

# En este caso, ningun valor de la variable de interes tiene frecuencia mayor a 1. En este caso la variable no tiene moda.
```
## Mediana

```{r , echo=TRUE}
# La función nrow identifica el número de filas de un dataframe o matriz. En este caso el número de filas corresponde al número de observacines.
n <- nrow(CigarettesB) 
CigarettesB$pack[order(CigarettesB$pack,decreasing = TRUE)]

# 46 es par, por lo que la media será el promedio de los dos datos que ocupan la posición central
print(n) 

dato_centro1 <- n/2 # centro
dato_centro2 <- dato_centro1 + 1 # valor a la derecha del centro

CigarettesB$pack[dato_centro1]
CigarettesB$pack[dato_centro2]

CigarettesB <- CigarettesB[order(CigarettesB$pack,decreasing = TRUE),]

# Promedio de los dos datos centrales
(CigarettesB$pack[dato_centro1] + CigarettesB$pack[dato_centro2] ) / 2

# Podemos hacer este mismo cálculo con la función median
median(CigarettesB$pack) 
```

# Medidas de posición no central
Medidas de colocación para una distribución de frecuencia es aquel valor para el cual una posición especifica de la distribución queda en o debajo de éste.

## Percentiles y cuartiles

```{r , echo=TRUE}

CigarettesB <- CigarettesB[order(CigarettesB$pack,decreasing = FALSE),]

# Definimos vector de percentiles
lista_percentiles <- seq(0,100,5)

# Define número de observaciones
n_cigarrettes <- nrow(CigarettesB)

# Crea función de indice i
i <- function(p){(p/100)*n_cigarrettes }

# Aplica la funcion de indice i a cada valor de la lista de percentiles
lista_i <- (sapply(lista_percentiles, i))

# Genera una tabla con los resultados
percentiles_indices <- data.frame(p = lista_percentiles, i = lista_i)

# Percentil 25
percentiles_indices$i[percentiles_indices$p == 25]
CigarettesB$packs[12]

# Percentil 50
percentiles_indices$i[percentiles_indices$p == 50] # el indice es par, debemos promediar
(CigarettesB$packs[23] + CigarettesB$packs[24] )/2

# Percentil 
percentiles_indices$i[percentiles_indices$p == 75]
CigarettesB$packs[35] 

# Podemos hacer el calculo con la funcion quantile

quantile(CigarettesB$packs,type = 2)
quantile(CigarettesB$packs,type = 2,probs = c(0.25,0.5,0.75))

```



